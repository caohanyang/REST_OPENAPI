<!DOCTYPE html>
<html data-mc-help-system-file-name="Default.xml" data-mc-in-preview-mode="false" data-mc-path-to-help-system="../../" data-mc-preload-images="false" data-mc-runtime-file-type="Topic;Default" data-mc-search-type="Stem" data-mc-target-type="WebHelp2" data-mc-toc-path="Buy APIs|Buying Integration Guide" lang="en-us" xml:lang="en-us" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
 <head>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta charset="utf-8"/>
  <meta content="" name="description"/>
  <meta content="" name="author"/>
  <title>
   Finding Categories for Buy API Calls
  </title>
  <link data-mc-generated="True" href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet"/>
  <link data-mc-generated="True" href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet"/>
  <link data-mc-generated="True" href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet"/>
  <link data-mc-generated="True" href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet"/>
  <link data-mc-generated="True" href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet"/>
  <link data-mc-generated="True" href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet"/>
  <style>
   /*&lt;meta /&gt;*/

.button.topic-ratings-button
{
	-pie-background: transparent url('../../Skins/Default/Stylesheets/Images/star-full.png') no-repeat center center;
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.edit-user-profile-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/edit-profile.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}
  </style>
  <link href="../resources/stylesheets/ebay-styles.css" rel="stylesheet"/>
  <script src="../../Resources/Scripts/custom.modernizr.js">
  </script>
  <script src="../../Resources/Scripts/jquery.min.js">
  </script>
  <script src="../../Resources/Scripts/require.min.js">
  </script>
  <script src="../../Resources/Scripts/require.config.js">
  </script>
  <script src="../../Resources/Scripts/foundation.min.js">
  </script>
  <script src="../../Resources/Scripts/plugins.min.js">
  </script>
  <script src="../../Resources/Scripts/MadCapAll.js">
  </script>
 </head>
 <body>
  <div class="content">
   <div id="contentBody">
    <!-- Header Start -->
    <header class="app-header flex" id="app-header">
     <a class="flex-4" href="http://go.developer.ebay.com">
      <span class="logo">
      </span>
     </a>
     <ul class="menu flex-12 margin-left-auto">
      <li class="sign-in-link">
       <a href="#">
        Hi!
       </a>
       <a class="link" href="https://developer.ebay.com/signin">
        SignÂ in
       </a>
       <a href="#">
        or
       </a>
       <a class="link register-link" href="https://developer.ebay.com/signin?tab=register">
        Register
       </a>
       <a href="#">
        <span class="icon-arrow-down">
        </span>
       </a>
       <div class="list-entries hidden">
        <a href="https://developer.ebay.com/my/keys">
         Application access keys
        </a>
        <a href="https://developer.ebay.com/my/stats?env=sandbox&amp;index=0">
         Application reports
        </a>
        <a href="https://developer.ebay.com/my/auth?env=sandbox&amp;index=0">
         Auth tokens for eBay
        </a>
        <a href="https://developer.ebay.com/my/push?env=sandbox&amp;index=0">
         Buyer / seller notifications &amp; alerts
        </a>
        <a href="https://developer.ebay.com/my/applications/directory">
         Solutions Directory account
        </a>
        <a href="https://developer.ebay.com/my/profile">
         Profile &amp; contacts
        </a>
       </div>
      </li>
      <li>
       <a href="#">
        Community
        <span class="icon-arrow-down">
        </span>
       </a>
       <div class="list-entries hidden">
        <a href="https://go.developer.ebay.com/dev-program-blog">
         API blog
        </a>
        <a href="https://forums.developer.ebay.com/">
         API forums
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/8/default.html">
         Orders, Resolutions, Feedback
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/11/ebay-apis-search.html">
         Search (Finding)
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/12/ebay-apis-selling.html">
         Selling (Trading)
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/9/help.html">
         Java SDK for Trading API
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/14/ebay-apis-net-sdk-for-trading-api.html">
         .NET SDK for Trading API
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/15/ebay-apis-getting-tokens-notifications-alerts-mess.html">
         Tokens, Messaging, Sandbox
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/13/ebay-apis-talk-to-your-fellow-developers.html">
         Talk to your fellow developers
        </a>
        <a class="sub" href="https://forums.developer.ebay.com/spaces/16/feedback-comments-suggestions.html">
         Comments, suggestions
        </a>
        <a href="http://collabfinder.com/groups/ebay-api-developers-unite">
         CollabFinder: Build a project team
        </a>
        <a href="http://solutions.ebay.com">
         Solutions Directory: Find apps &amp; services
        </a>
        <a href="http://apps.ebay.com/">
         Apps Center: Use widgets &amp; apps on eBay
        </a>
        <a href="https://go.developer.ebay.com/developer-directory">
         Upwork: Hire individuals to help you
        </a>
       </div>
      </li>
      <li>
       <a href="#">
        Docs &amp; KBs
        <span class="icon-arrow-down">
        </span>
       </a>
       <div class="list-entries hidden">
        <a href="https://go.developer.ebay.com/release-notes">
         Release notes
        </a>
        <a href="https://go.developer.ebay.com/adding-search-abilities-your-app">
         Search
        </a>
        <a href="https://go.developer.ebay.com/including-buying-your-app">
         Buy
        </a>
        <a href="https://go.developer.ebay.com/sell-inventory-ebay">
         Sell
        </a>
        <a href="https://go.developer.ebay.com/creating-order-management-app">
         After Sale
        </a>
        <a href="https://go.developer.ebay.com/api-documentation">
         All API documentation
        </a>
        <a href="https://go.developer.ebay.com/marketing-handbook-introduction">
         App Marketing Handbook
        </a>
       </div>
      </li>
      <li>
       <a href="#">
        Support
        <span class="icon-arrow-down">
        </span>
       </a>
       <div class="list-entries hidden">
        <a href="https://go.developer.ebay.com/api-status">
         API site status
        </a>
        <a href="https://developer.ebay.com/my/support/tickets">
         Premium support
        </a>
        <a href="https://go.developer.ebay.com/api-call-limits">
         API call limits
        </a>
        <a href="https://developer.ebay.com/my/support/tickets?tab=app-check">
         Compatible app check
        </a>
       </div>
      </li>
      <li>
       <a href="#">
        Tools &amp; Samples
        <span class="icon-arrow-down">
        </span>
       </a>
       <div class="list-entries hidden">
        <a href="https://go.developer.ebay.com/quick-start-guide">
         Quick Start steps
        </a>
        <a href="https://developer.ebay.com/my/quick_start">
         Try a sample app
        </a>
        <a href="https://developer.ebay.com/my/api_test_tool">
         API Explorer
        </a>
        <a href="http://sandbox.ebay.com/">
         eBay Sandbox
        </a>
        <a class="sub" href="http://developer.ebay.com/DevZone/guides/ebayfeatures/Basics/Call-SandboxTesting.html">
         About the Sandbox
        </a>
        <a class="sub" href="http://sandbox.ebay.com/">
         Sandbox home page
        </a>
        <a class="sub" href="https://developer.ebay.com/sandbox/register">
         Sandbox user registration
        </a>
        <a class="sub" href="https://go.developer.ebay.com/sandbox-api-status">
         Sandbox site status
        </a>
        <a href="https://go.developer.ebay.com/ebay-sdks">
         eBay SDKs
        </a>
        <a href="https://github.com/eBayDeveloper/eBay_APICall_CodeSamples">
         GitHub: Code samples
        </a>
        <a href="https://go.developer.ebay.com/dev-help-center">
         Help Center: More tools &amp; info
        </a>
       </div>
      </li>
      <li>
       <a href="#">
        Growth
        <span class="icon-arrow-down">
        </span>
       </a>
       <div class="list-entries hidden right">
        <a href="https://go.developer.ebay.com/marketing-guidelines">
         Branding guidelines
        </a>
        <a href="https://go.developer.ebay.com/introduction-logos">
         eBay logos and policies
        </a>
        <a href="https://go.developer.ebay.com/ebay-solutions-directory-0">
         Solutions (Apps) Directory
        </a>
        <a href="https://go.developer.ebay.com/affiliate-developers">
         eBay Partner (Affiliate) Network
        </a>
       </div>
      </li>
     </ul>
    </header>
    <!-- Header End -->
    <div class="docnav">
     <a class="docnav" href="http://developer.ebay.com/Devzone/rest/ebay-rest/content/ebay-rest-landing.html">
      Using eBay REST
     </a>
     |
     <a class="docnav" href="http://developer.ebay.com/Devzone/rest/sell/content/sell-landing.html">
      Sell APIs
     </a>
     |
     <a class="docnav" href="http://developer.ebay.com/Devzone/rest/buy/content/buy-landing.html">
      Buy APIs
     </a>
    </div>
    <div class="row collapse">
     <div class="sideContent">
      <div class="clearfix">
       <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component">
        <div class="button-group-container-left">
         <div class="button-group star-buttons loading feedback-topic-required">
          <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state1-title="Click a star to rate this topic" data-state2-class="topic-ratings-button" data-state2-title="Click a star to rate this topic" title="Click a star to rate this topic">
           <img alt="topic rating" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
          </div>
          <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state1-title="Click a star to rate this topic" data-state2-class="topic-ratings-button" data-state2-title="Click a star to rate this topic" title="Click a star to rate this topic">
           <img alt="topic rating" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
          </div>
          <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state1-title="Click a star to rate this topic" data-state2-class="topic-ratings-button" data-state2-title="Click a star to rate this topic" title="Click a star to rate this topic">
           <img alt="topic rating" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
          </div>
          <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state1-title="Click a star to rate this topic" data-state2-class="topic-ratings-button" data-state2-title="Click a star to rate this topic" title="Click a star to rate this topic">
           <img alt="topic rating" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
          </div>
          <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state1-title="Click a star to rate this topic" data-state2-class="topic-ratings-button" data-state2-title="Click a star to rate this topic" title="Click a star to rate this topic">
           <img alt="topic rating" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
          </div>
         </div>
         <div class="button-separator feedback-topic-required">
         </div>
         <button class="button feedback-required login-button" data-state1-class="login-button" data-state1-title="Login" data-state2-class="edit-user-profile-button" id="normalLoginBtn" title="Login">
          <img alt="login" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
         </button>
         <button class="button needs-pie print-button" title="Print">
          <img alt="print" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
         </button>
         <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state1-title="Expand all" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all">
          <img alt="expand all" src="../../Skins/Default/Stylesheets/Images/transparent.gif"/>
         </button>
        </div>
       </div>
      </div>
      <ul class="menu _Skins_SideMenu mc-component">
       <li class="has-children">
        <a href="buying-ig-landing.html">
         Buying Integration Guide
        </a>
        <ul class="sub-menu">
         <li>
          <a href="buy-overview.html">
           Buy APIs Overview
          </a>
         </li>
         <li>
          <a href="buy-requirements.html">
           Buy APIs Requirements
          </a>
         </li>
         <li>
          <a class="selected" href="#">
           Finding Categories for Buy API Calls
          </a>
         </li>
         <li>
          <a href="buy-application-example.html">
           Buy APIs Application Example
          </a>
         </li>
         <li>
          <a href="ref-buy-browse-filters.html">
           Search for Items Call Field Filters Usage Details
          </a>
         </li>
         <li>
          <a href="ref-buy-negative-testing.html">
           Negative Testing for Order API Calls Using Stubs
          </a>
         </li>
        </ul>
       </li>
      </ul>
     </div>
     <div class="MCBreadcrumbsBox_breadcrumb_0">
      <span class="MCBreadcrumbsPrefix">
       You are here:
      </span>
      <a class="MCBreadcrumbsLink" href="../buy-landing.html">
       Buy APIs
      </a>
      <span class="MCBreadcrumbsDivider">
       &gt;
      </span>
      <a class="MCBreadcrumbsLink" href="buying-ig-landing.html">
       Buying Integration Guide
      </a>
      <span class="MCBreadcrumbsDivider">
       &gt;
      </span>
      <span class="MCBreadcrumbs">
       Finding Categories for Buy API Calls
      </span>
     </div>
     <h1 id="top">
      <a data-mc-generated-bookmark="TOC" name="Finding_Categories_for_Buy_API_Calls">
      </a>
      Finding Categories for Buy API Calls
     </h1>
     <p>
      Every item on eBay is assigned to a
      <i>
       category
      </i>
      but categories are not the same across all the eBay marketplaces. Several Buy API calls use the category Id to refine the results and some call require the category Id. The Commerce TaxonomyAPI calls can help you discover categories that are appropriate to your area of focus, so you can present items to buyers in their areas of interest.
     </p>
     <h6 class="refHeading">
      <a data-mc-generated-bookmark="TOC" name="Topics">
      </a>
      Topics
     </h6>
     <ul>
      <li value="1">
       <a class="MCXref xref selected" href="#Identify">
        Identify the default category tree for a marketplace
       </a>
      </li>
      <li value="2">
       <a class="MCXref xref selected" href="#Retrieve">
        Retrieve the complete category tree
       </a>
      </li>
     </ul>
     <p>
      Categories are organized into a tree hierarchy. Approximately 20 eBay marketplaces each use a
      <i>
       default category tree
      </i>
      , which is typically structured differently for each marketplace. The category tree structure is also subject to change as categories are added, expanded, consolidated, or removed (users are notified of any changes).
     </p>
     <div class="msgbox_note">
      <p class="msgbox_noteInDiv" data-mc-autonum='&lt;b&gt;&lt;span style="color: #004680;" class="mcFormatColor"&gt;Note: &lt;/span&gt;&lt;/b&gt;'>
       <span class="autonumber">
        <span>
         <b>
          <span class="mcFormatColor" style="color: #004680;">
           Note:
          </span>
         </b>
        </span>
       </span>
       Currently, for each eBay marketplace the default category tree is the only category tree available. This will change in the future as new category trees are developed for more specialized uses.
      </p>
     </div>
     <p>
      Following is an example of using the
      <b>
       Taxonomy API
      </b>
      to discover the categories that apply to a buyers' areas of interest in a particular eBay marketplace.
     </p>
     <p>
      For more information about working with categories, see the
      <a href="../../../commerce/content/taxonomy/overview.html" target="_self">
       Taxonomy API
      </a>
      .
     </p>
     <h2>
      <a data-mc-generated-bookmark="TOC" name="Identify_the_default_category_tree_for_a_marketplace">
      </a>
      <a name="Identify">
      </a>
      Identify the default category tree for a marketplace
     </h2>
     <p>
      Use the
      <b class="call">
       Get a Default Category Tree ID
      </b>
      call to identify the default category tree for your marketplace; for example:
     </p>
     <pre xml:space="preserve">GET https://api.ebay.com/commerce/taxonomy/v1_beta/get_default_category_tree_id?marketplace_id=<b>EBAY_US</b></pre>
     <p>
      The response payload contains the category tree ID and version:
     </p>
     <pre xml:space="preserve">{
  "categoryTreeId": "<b>0</b>",
  "categoryTreeVersion": "117"
}</pre>
     <p>
      You use the value of
      <b class="field">
       categoryTreeId
      </b>
      to identify that tree in subsequent Taxonomy API calls.
     </p>
     <h2>
      <a data-mc-generated-bookmark="TOC" name="Retrieve_the_complete_category_tree">
      </a>
      <a name="Retrieve">
      </a>
      Retrieve the complete category tree
     </h2>
     <p>
      You can maintain your own copy of the default category tree, and present the tree to buyers for browsing from the top down. Use the
      <b class="call">
       Get a Category Tree
      </b>
      call to retrieve the entire category tree:
     </p>
     <pre xml:space="preserve">GET https://api.ebay.com/commerce/taxonomy/v1_beta/category_tree/<b>0</b></pre>
     <p>
      This call can return a very large payload (tens of thousands of categories), so you are strongly advised to submit the request with the following HTTP header:
     </p>
     <pre>Accept-Encoding: application/gzip</pre>
     <p>
      With this header (in addition to the required headers described under
      <a href="../../../ebay-rest/content/rest-request-components.html#HTTP">
       HTTP Request Headers
      </a>
      ), the call returns the response with gzip compression.
     </p>
     <p>
      The following severely trimmed example provides an idea of the category tree structure:
     </p>
     <pre xml:space="preserve">{
  "categoryTreeId": "0",
  "categoryTreeVersion": "117",
  "rootCategoryNode": {
    "category": {
      "categoryId": "0",
      "categoryName": "Root"
    },
    "childCategoryTreeNodes": [
      {
        "category": {
          "categoryId": "1",
          "categoryName": "Collectibles"
        },
        "parentCategoryTreeNodeHref": "https://api.ebay.com/commerce/taxonomy/v1_beta/
			category_tree/0/get_category_subtree?category_id=1",
        "childCategoryTreeNodes": [
          {
            "category": {
              "categoryId": "34",
              "categoryName": "Advertising"
            },
            "parentCategoryTreeNodeHref": "https://api.ebay.com/commerce/taxonomy/v1_beta/
			category_tree/0/get_category_subtree?category_id=34",
            "childCategoryTreeNodes": [
              {
                "category": {
                  "categoryId": "36",
                  "categoryName": "Soda"
                },
                "parentCategoryTreeNodeHref": "https://api.ebay.com/commerce/taxonomy/v1_beta/
				category_tree/0/get_category_subtree?category_id=36",
                "childCategoryTreeNodes": [
                  {
                    "category": {
                      "categoryId": "13600",
                      "categoryName": "Coca-Cola"
                    },
                    "parentCategoryTreeNodeHref": "https://api.ebay.com/commerce/taxonomy/v1_beta
					/category_tree/0/get_category_subtree?category_id=13600",
                    "childCategoryTreeNodes": [
                      {
                        "category": {
                          "categoryId": "38",
                          "categoryName": "Other Coca-Cola Ads"
                        },
                        "parentCategoryTreeNodeHref": "https://api.ebay.com/commerce/taxonomy/v1_beta/
					category_tree/0/get_category_subtree?category_id=38",
                        "categoryTreeNodeLevel": 5,
                        "leafCategoryTreeNode": true
                      },
                         ...
                    ],
                    "categoryTreeNodeLevel": 4
                  },
                     ...
                ],
                "categoryTreeNodeLevel": 3
              },
                 ...
            ],
            "categoryTreeNodeLevel": 2
          },
             ...
        ],
        "categoryTreeNodeLevel": 1
      },
         ...
      {
        "category": {
          "categoryId": "172008",
          "categoryName": "Gift Cards &amp; Coupons"
        },
        "parentCategoryTreeNodeHref": "https://api.ebay.com/commerce/taxonomy/v1_beta/
			category_tree/0/get_category_subtree?category_id=172008",
        "childCategoryTreeNodes": [
           ...
        ],
        "categoryTreeNodeLevel": 1
      }
    ],
    "categoryTreeNodeLevel": 0
  },
  "applicableMarketplaceIds": []
}</pre>
     <p>
      With such a large set of categories, you will probably want to present a limited portion of the tree at a time to buyers, and reveal additional child categories when a buyer selects one at the current level. In addition to child categories, you can present the buyer with the items listed within the currently selected category. That set of items will become smaller and more focused as the buyer selects more restrictive categories.
     </p>
     <p>
      You can enable buyers to search for items below the level of a selected category using the Browse API
      <b class="call">
       Search for Items
      </b>
      call. When the buyer selects an item, you can retrieve the item details using the
      <b class="call">
       Get Item
      </b>
      call.
     </p>
     <p>
      You will not need to retrieve this category tree again, unless eBay publishes a new version. You can determine this by using the
      <b class="call">
       Get a Default Category Tree ID
      </b>
      call to retrieve and compare the
      <b class="field">
       categoryTreeVersion
      </b>
      field to the one you have cached.
     </p>
     <p xml:space="preserve">
      For more information about working with categories, see the
      <a href="../../../commerce/content/taxonomy/overview.html" target="_self">
       Taxonomy API
      </a>
      .
     </p>
    </div>
   </div>
  </div>
  <p>
  </p>
  <hr align="center" size="0" width="100%"/>
  <p class="copyright">
   <b>
    Copyright Â© 2017 eBay Inc. All rights reserved.
   </b>
   <br/>
   This documentation and the API may only be used in accordance with the eBay Developers Program and API License Agreement.
  </p>
  <script>
   /* <![CDATA[ */<!--
		
			function getTargetElement(event) {
				return event.target || event.srcElement;
			}

			$(document).on('ready', function () {
				var $header = $('#app-header');
			
				$('html').click(function(event) {
					var targetElement = getTargetElement(event);
					var clickInsideList = $(targetElement).parents('.list-entries').size() > 0;
		
					if(!clickInsideList) {
						$header.find('.list-entries').addClass('hidden');
					}
				});
	
				$header.find('.menu li > a:not(.link)').on('click', function (event) {
					var menuAlreadyVisible = !$(this).parent().find('.list-entries').hasClass('hidden');
		
					$header.find('.list-entries').addClass('hidden');
		
					if (!menuAlreadyVisible) {
						$(this).parent().find('.list-entries').removeClass('hidden');
					}
		
					event.stopPropagation();
					return false;
				});
	
				$header.find(".list-entries").on('mouseleave', function(event){
					$header.find('.list-entries').addClass('hidden');
				});
			});
-->/* ]]> */
  </script>
 </body>
</html>